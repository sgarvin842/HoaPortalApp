<!-- Trigger Button for Autopay (Not generating code for the button as requested) -->
<!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#autopayModal">Set Up Autopay</button> -->
<!-- Autopay Modal -->
<div class="modal fade" id="autopayModal" tabindex="-1" aria-labelledby="autopayModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="autopayModalLabel">Set Up Autopay</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Autopay Payment Method Selection -->
                <div class="mb-3">
                    <label for="autopayMethod" class="form-label">Select Payment Method</label>
                    <select class="form-select" id="autopayMethod">
                        <option value="creditCard">Credit Card</option>
                        <option value="bankTransfer">Bank Transfer</option>
                        <option value="paypal">PayPal</option>
                    </select>
                </div>

                <!-- Autopay Frequency -->
                <div class="mb-3">
                    <label for="autopayFrequency" class="form-label">Select Payment Frequency</label>
                    <select class="form-select" id="autopayFrequency">
                        <option value="weekly">Weekly</option>
                        <option value="biweekly">Bi-Weekly</option>
                        <option value="monthly">Monthly</option>
                        <option value="quarterly">Quarterly</option>
                    </select>
                </div>

                <!-- Autopay Start Date -->
                <div class="mb-3">
                    <label for="autopayStartDate" class="form-label">Autopay Start Date</label>
                    <input type="date" class="form-control" id="autopayStartDate">
                </div>

                <!-- Full or Partial Payment Option -->
                <div class="mb-3">
                    <label class="form-label">Payment Amount</label>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="autopayAmount" id="autopayFullPayment" value="full" checked>
                        <label class="form-check-label" for="autopayFullPayment">Full Payment</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="autopayAmount" id="autopayPartialPayment" value="partial">
                        <label class="form-check-label" for="autopayPartialPayment">Partial Payment</label>
                    </div>
                </div>

                <!-- Partial Payment Input (Hidden Initially) -->
                <div class="mb-3 d-none" id="autopayPartialPaymentInput">
                    <label for="autopayPartialAmount" class="form-label">Enter Amount</label>
                    <input type="number" class="form-control" id="autopayPartialAmount" min="1" placeholder="Enter amount to pay">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="submitAutopay">Set Up Autopay</button>
            </div>
        </div>
    </div>
</div>

<!-- Include Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const autopayPartialPaymentRadio = document.getElementById('autopayPartialPayment');
        const autopayFullPaymentRadio = document.getElementById('autopayFullPayment');
        const autopayPartialPaymentInput = document.getElementById('autopayPartialPaymentInput');

        // Show/Hide the partial payment input based on selection
        autopayPartialPaymentRadio.addEventListener('change', function () {
            if (autopayPartialPaymentRadio.checked) {
                autopayPartialPaymentInput.classList.remove('d-none');
            }
        });

        autopayFullPaymentRadio.addEventListener('change', function () {
            if (autopayFullPaymentRadio.checked) {
                autopayPartialPaymentInput.classList.add('d-none');
            }
        });

        // Handle autopay submission (just an example, replace with your logic)
        document.getElementById('submitAutopay').addEventListener('click', function () {
            const autopayMethod = document.getElementById('autopayMethod').value;
            const autopayFrequency = document.getElementById('autopayFrequency').value;
            const autopayStartDate = document.getElementById('autopayStartDate').value;
            let autopayAmount = 'Full';

            if (autopayPartialPaymentRadio.checked) {
                autopayAmount = document.getElementById('autopayPartialAmount').value;
            }

            // Simulate autopay setup logic here
            alert(`Payment Method: ${autopayMethod}\nFrequency: ${autopayFrequency}\nStart Date: ${autopayStartDate}\nPayment Amount: ${autopayAmount}`);
        });
    });
</script>
